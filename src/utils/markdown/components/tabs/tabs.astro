---
import Content from "../content.astro";
import { TabInfo } from "./types";
import { Tabs as PreactTabs, TabsItem } from "components/tabs/tabs-signal";

export interface Props {
	tabs: TabInfo[];
}

const tabs = Astro.props.tabs;
const tabsId = tabs
	.map((t) => t.slug)
	.sort()
	.join(":");
const tabsInfo = tabs.map(({ slug, name }) => ({ slug, name }));
---

<PreactTabs id={tabsId} tabs={tabsInfo} client:visible>
	{
		tabs.map((tab) => (
			<TabsItem id={tabsId} tabs={tabsInfo} slug={tab.slug} client:visible>
				<Content content={tab.contents} />
			</TabsItem>
		))
	}
</PreactTabs>
